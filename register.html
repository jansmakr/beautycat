<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì›ê°€ì… - beautycat (ë·°í‹°+ì—í‹°ì¼“)</title>
    
    <!-- SEO ë©”íƒ€íƒœê·¸ -->
    <meta name="description" content="beautycat íšŒì›ê°€ì… í˜ì´ì§€. ê³ ê° ë˜ëŠ” í”¼ë¶€ê´€ë¦¬ì‹¤ ì‚¬ì—…ìë¡œ ê°€ì…í•˜ì—¬ ë§ì¶¤í˜• í”¼ë¶€ê´€ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•˜ì„¸ìš”.">
    <meta name="robots" content="noindex, follow">
    <link rel="canonical" href="https://pposhop.kr/register.html">
    
    <!-- ê°œë°œ í™˜ê²½ ì˜¤ë¥˜ ë°©ì§€ -->
    <script src="js/dev-environment-handler.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700;800&family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': {
                            50: '#fef2f2',
                            100: '#fee2e2', 
                            200: '#fecaca',
                            300: '#fca5a5',
                            400: '#f87171',
                            500: '#ff2d92',
                            600: '#dc2626',
                            700: '#b91c1c',
                            800: '#991b1b',
                            900: '#7f1d1d',
                        }
                    },
                    fontFamily: {
                        'pretendard': ['Pretendard', 'system-ui', 'sans-serif'],
                        'noto': ['Noto Sans KR', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        * { 
            font-family: 'Pretendard', 'Noto Sans KR', system-ui, sans-serif;
        }
        
        body {
            background-color: #ffffff;
        }

        .btn-primary {
            background: #ff2d92;
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            background: #e6297f;
        }

        .unni-input {
            width: 100%;
            padding: 16px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s ease;
            background: white;
        }
        
        .unni-input:focus {
            outline: none;
            border-color: #ff2d92;
        }

        .unni-card {
            background: white;
            border: 1px solid #f0f0f0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .step-indicator {
            background: #f0f0f0;
            color: #999;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }

        .step-indicator.active {
            background: #ff2d92;
            color: white;
        }
    </style>
</head>

<body class="bg-gray-50">
    <!-- í—¤ë” -->
    <header class="bg-white border-b border-gray-200">
        <div class="max-w-6xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <!-- ë¡œê³  -->
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 flex items-center justify-center">
                        <span class="text-xl">ğŸ±</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-900">beautycat <span class="text-sm text-gray-500">(ë·°í‹°+ì—í‹°ì¼“)</span></h1>
                        <p class="text-xs text-primary-500 font-medium">í”¼ë¶€ê´€ë¦¬ì‹¤ ê²¬ì  í”Œë«í¼</p>
                    </div>
                </div>
                
                <!-- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ -->
                <a href="index.html" class="text-gray-600 hover:text-primary-500 font-medium text-sm">
                    <i class="fas fa-arrow-left mr-2"></i>í™ˆìœ¼ë¡œ
                </a>
            </div>
        </div>
    </header>

    <!-- íšŒì›ê°€ì… í¼ -->
    <div class="max-w-lg mx-auto mt-8 px-4 pb-8">
        <div class="unni-card p-8">
            <!-- ì œëª© ë° ì§„í–‰ë‹¨ê³„ -->
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">íšŒì›ê°€ì…</h2>
                <p class="text-gray-600 mb-6">beautycat ê³„ì •ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”</p>
                
                <!-- ì§„í–‰ë‹¨ê³„ í‘œì‹œ -->
                <div class="flex items-center justify-center space-x-4 mb-6">
                    <div class="flex items-center">
                        <div class="step-indicator active">1</div>
                        <span class="ml-2 text-sm font-medium text-primary-500">ê¸°ë³¸ì •ë³´</span>
                    </div>
                    <div class="w-8 h-px bg-gray-200"></div>
                    <div class="flex items-center">
                        <div class="step-indicator">2</div>
                        <span class="ml-2 text-sm font-medium text-gray-400">ì•½ê´€ë™ì˜</span>
                    </div>
                    <div class="w-8 h-px bg-gray-200"></div>
                    <div class="flex items-center">
                        <div class="step-indicator">3</div>
                        <span class="ml-2 text-sm font-medium text-gray-400">ì™„ë£Œ</span>
                    </div>
                </div>
            </div>

            <!-- íšŒì›ê°€ì… í¼ -->
            <form id="registerForm" class="space-y-6">
                <!-- ì‚¬ìš©ì ìœ í˜• ì„ íƒ -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-3">ê°€ì… ìœ í˜•</label>
                    <div class="grid grid-cols-2 gap-4">
                        <label class="flex flex-col items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:border-primary-500 transition-colors">
                            <input type="radio" name="userType" value="customer" checked class="sr-only">
                            <i class="fas fa-user text-primary-500 text-2xl mb-2"></i>
                            <span class="font-medium text-gray-700 mb-1">ê³ ê°</span>
                            <span class="text-xs text-gray-500 text-center">í”¼ë¶€ê´€ë¦¬ë¥¼ ë°›ê³  ì‹¶ì–´ìš”</span>
                        </label>
                        <label class="flex flex-col items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:border-primary-500 transition-colors">
                            <input type="radio" name="userType" value="shop" class="sr-only">
                            <i class="fas fa-store text-primary-500 text-2xl mb-2"></i>
                            <span class="font-medium text-gray-700 mb-1">ì—…ì²´</span>
                            <span class="text-xs text-gray-500 text-center">í”¼ë¶€ê´€ë¦¬ì‹¤ì„ ìš´ì˜í•´ìš”</span>
                        </label>
                    </div>
                </div>

                <!-- ê¸°ë³¸ ì •ë³´ -->
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ì´ë¦„</label>
                        <input type="text" id="name" name="name" required class="unni-input" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">ì—°ë½ì²˜</label>
                        <input type="tel" id="phone" name="phone" required class="unni-input" placeholder="010-0000-0000">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì´ë©”ì¼</label>
                    <input type="email" id="email" name="email" required class="unni-input" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>

                <!-- ë¹„ë°€ë²ˆí˜¸ -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë¹„ë°€ë²ˆí˜¸</label>
                    <div class="relative">
                        <input type="password" id="password" name="password" required class="unni-input pr-12" placeholder="8ìë¦¬ ì´ìƒ ì…ë ¥í•˜ì„¸ìš”">
                        <button type="button" onclick="togglePassword('password')" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                            <i class="fas fa-eye" id="passwordToggle"></i>
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">ì˜ë¬¸, ìˆ«ìë¥¼ í¬í•¨í•˜ì—¬ 8ìë¦¬ ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                </div>

                <!-- ë¹„ë°€ë²ˆí˜¸ í™•ì¸ -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                    <div class="relative">
                        <input type="password" id="confirmPassword" name="password_confirm" required class="unni-input pr-12" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”">
                        <button type="button" onclick="togglePassword('confirmPassword')" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                            <i class="fas fa-eye" id="confirmPasswordToggle"></i>
                        </button>
                    </div>
                </div>

                <!-- ì—…ì²´ ì¶”ê°€ ì •ë³´ (ì—…ì²´ ì„ íƒ ì‹œì—ë§Œ í‘œì‹œ) -->
                <div id="shopFields" class="hidden space-y-4">
                    <div class="border-t border-gray-200 pt-6">
                        <h4 class="text-sm font-semibold text-gray-700 mb-4">ì—…ì²´ ì •ë³´</h4>
                        <div class="space-y-4">
                            <!-- ê¸°ë³¸ ì—…ì²´ ì •ë³´ -->
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì—…ì²´ëª…</label>
                                    <input type="text" name="shop_name" class="unni-input" placeholder="í”¼ë¶€ê´€ë¦¬ì‹¤ ì´ë¦„">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ *</label>
                                    <input type="text" name="business_number" class="unni-input shop-required" placeholder="000-00-00000" pattern="[0-9]{3}-[0-9]{2}-[0-9]{5}">
                                </div>
                            </div>
                            
                            <!-- ì˜ì—…ì‹ ê³ ì¦ ë²ˆí˜¸ -->
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">ì˜ì—…ì‹ ê³ ì¦ ë²ˆí˜¸ *</label>
                                <input type="text" name="business_license_number" class="unni-input shop-required" placeholder="ì˜ˆ: ì œ2024-ì„œìš¸ê°•ë‚¨-0000í˜¸">
                                <p class="text-xs text-gray-500 mt-1">ë¯¸ìš©ì—… ì˜ì—…ì‹ ê³ ì¦ì— ê¸°ì¬ëœ ì‹ ê³ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                            </div>
                            
                            <!-- ë„¤ì´ë²„ ì¹´í˜ ì•„ì´ë”” -->
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">ë„¤ì´ë²„ ì¹´í˜ ì•„ì´ë”” *</label>
                                <input type="text" name="naver_cafe_id" class="unni-input shop-required" placeholder="ë„¤ì´ë²„ ì¹´í˜ ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                                <div class="mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg">
                                    <div class="flex items-start">
                                        <i class="fas fa-info-circle text-blue-500 mr-2 mt-0.5"></i>
                                        <div class="text-xs text-blue-700">
                                            <p class="font-medium mb-1">ğŸ“¢ ë„¤ì´ë²„ í”¼.ì°½.ì„± ì¹´í˜ íšŒì› ì „ìš©</p>
                                            <p class="mb-2">ìƒµ ë“±ë¡ì€ <a href="https://cafe.naver.com/cosmetickr" target="_blank" class="text-blue-600 font-medium underline">ë„¤ì´ë²„ í”¼.ì°½.ì„± ì¹´í˜</a> íšŒì›ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                                            <p>â€¢ ì¹´í˜ ê°€ì… í›„ ë„¤ì´ë²„ ì•„ì´ë””ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                                            <p>â€¢ ê°€ì… ìŠ¹ì¸ì€ ì¹´í˜ í™œë™ í™•ì¸ í›„ ì²˜ë¦¬ë©ë‹ˆë‹¤</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ì„œë¥˜ ì œì¶œ ì•ˆë‚´ -->
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <div class="flex items-start">
                                    <i class="fas fa-file-alt text-yellow-600 mr-3 mt-0.5 text-lg"></i>
                                    <div class="flex-1">
                                        <h5 class="text-sm font-semibold text-yellow-800 mb-2">ğŸ“„ í•„ìˆ˜ ì„œë¥˜ ì œì¶œ</h5>
                                        <div class="text-xs text-yellow-700 space-y-1">
                                            <p>â€¢ <strong>ì‚¬ì—…ìë“±ë¡ì¦</strong> ì‚¬ë³¸</p>
                                            <p>â€¢ <strong>ì˜ì—…ì‹ ê³ ì¦</strong> ì‚¬ë³¸</p>
                                            <p class="mt-2 font-medium">ğŸ“§ ì œì¶œì²˜: <a href="mailto:utuber@kakao.com" class="text-yellow-800 underline hover:text-yellow-900">utuber@kakao.com</a></p>
                                            <p class="text-yellow-600">íšŒì›ê°€ì… ì™„ë£Œ í›„ ìœ„ ì´ë©”ì¼ë¡œ ì„œë¥˜ë¥¼ ì œì¶œí•´ì£¼ì„¸ìš”. ì„œë¥˜ í™•ì¸ í›„ ìƒµ ìŠ¹ì¸ì´ ì™„ë£Œë©ë‹ˆë‹¤.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ì—…ì²´ ìœ„ì¹˜ ì •ë³´ -->
                            <div class="border-t border-gray-100 pt-4">
                                <h5 class="text-sm font-medium text-gray-700 mb-3">ğŸ“ ìƒµ ìœ„ì¹˜ (ì¤‘ìš”: ê²¬ì  ë§¤ì¹­ì— ì‚¬ìš©ë©ë‹ˆë‹¤)</h5>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">ì‹œ/ë„ *</label>
                                        <select name="shop_state" id="shop_state" class="unni-input shop-required">
                                            <option value="">ì‹œ/ë„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">êµ¬/êµ° *</label>
                                        <select name="shop_district" id="shop_district" disabled class="unni-input shop-required">
                                            <option value="">ë¨¼ì € ì‹œ/ë„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">ìƒì„¸ ì£¼ì†Œ *</label>
                                    <input type="text" name="shop_address" class="unni-input shop-required" placeholder="ë™/ì/ë©´, ë„ë¡œëª…/ì§€ë²ˆ, ê±´ë¬¼ëª…, ì¸µìˆ˜ ë“±">
                                    <p class="text-xs text-gray-500 mt-1">ì˜ˆ: ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 123-45 ë¹„ìš°í‹°ë¹Œë”© 3ì¸µ</p>
                                </div>
                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3">
                                    <div class="flex items-start">
                                        <i class="fas fa-info-circle text-blue-500 mr-2 mt-0.5 text-sm"></i>
                                        <div class="text-xs text-blue-800">
                                            <p class="font-medium mb-1">ì§€ì—­ ì„ íƒì´ ì¤‘ìš”í•œ ì´ìœ :</p>
                                            <p>â€¢ ê³ ê°ì´ ê²¬ì ì„ ìš”ì²­í•  ë•Œ <strong>ê°™ì€ ì§€ì—­ì˜ ìƒµë“¤ë§Œ</strong> ê²¬ì  ìš”ì²­ì„ ë°›ìŠµë‹ˆë‹¤</p>
                                            <p>â€¢ ì‹œ/ë„ì™€ êµ¬/êµ°ì´ ì •í™•í•´ì•¼ ê³ ê°ê³¼ ë§¤ì¹­ë©ë‹ˆë‹¤</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì•½ê´€ ë™ì˜ -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <div class="space-y-3">
                        <label class="flex items-start space-x-3">
                            <input type="checkbox" id="agreeAll" class="mt-1 text-primary-500 focus:ring-primary-500">
                            <span class="text-sm font-semibold text-gray-700">ì „ì²´ ì•½ê´€ì— ë™ì˜í•©ë‹ˆë‹¤</span>
                        </label>
                        
                        <div class="pl-6 space-y-2">
                            <label class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <input type="checkbox" name="terms_service" class="agree-item" required>
                                    <span class="text-sm text-gray-600">[í•„ìˆ˜] ì´ìš©ì•½ê´€ ë™ì˜</span>
                                </div>
                                <button type="button" class="text-primary-500 text-xs hover:underline">ë³´ê¸°</button>
                            </label>
                            <label class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <input type="checkbox" name="terms_privacy" class="agree-item" required>
                                    <span class="text-sm text-gray-600">[í•„ìˆ˜] ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë™ì˜</span>
                                </div>
                                <button type="button" class="text-primary-500 text-xs hover:underline">ë³´ê¸°</button>
                            </label>
                            <label class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <input type="checkbox" name="terms_marketing" class="agree-item">
                                    <span class="text-sm text-gray-600">[ì„ íƒ] ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜</span>
                                </div>
                                <button type="button" class="text-primary-500 text-xs hover:underline">ë³´ê¸°</button>
                            </label>
                        </div>
                    </div>
                </div>



                <!-- íšŒì›ê°€ì… ë²„íŠ¼ -->
                <button type="submit" class="w-full btn-primary py-4 text-base font-semibold">
                    íšŒì›ê°€ì… ì™„ë£Œ
                </button>
            </form>

            <!-- í•˜ë‹¨ ë§í¬ -->
            <div class="mt-6 text-center">
                <div class="text-sm text-gray-600">
                    ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?
                    <a href="login.html" class="text-primary-500 hover:underline font-medium">ë¡œê·¸ì¸</a>
                </div>
            </div>
        </div>
    </div>

    <script src="js/security.js"></script>
    <script src="js/regional-matching.js"></script>
    <script src="js/auth.js"></script>
    
    <script>
        // ì‚¬ìš©ì ìœ í˜• ì„ íƒ ì‹œ ìŠ¤íƒ€ì¼ ë³€ê²½
        document.querySelectorAll('input[name="userType"]').forEach(radio => {
            radio.addEventListener('change', function() {
                // ëª¨ë“  ë¼ë²¨ì—ì„œ ì„ íƒ ìŠ¤íƒ€ì¼ ì œê±°
                document.querySelectorAll('label').forEach(label => {
                    if (label.querySelector('input[name="userType"]')) {
                        label.classList.remove('border-primary-500', 'bg-primary-50');
                    }
                });
                
                // ì„ íƒëœ ë¼ë²¨ì— ìŠ¤íƒ€ì¼ ì¶”ê°€
                if (this.checked) {
                    this.parentElement.classList.add('border-primary-500', 'bg-primary-50');
                }
                
                // ì—…ì²´ ì„ íƒ ì‹œ ì¶”ê°€ í•„ë“œ í‘œì‹œ/ìˆ¨ê¹€
                const shopFields = document.getElementById('shopFields');
                if (this.value === 'shop') {
                    shopFields.classList.remove('hidden');
                    // shop-required í´ë˜ìŠ¤ê°€ ìˆëŠ” í•„ë“œë“¤ì„ í•„ìˆ˜ë¡œ ì„¤ì •
                    shopFields.querySelectorAll('.shop-required').forEach(input => {
                        input.setAttribute('required', 'required');
                    });
                    // ì§€ì—­ ì„ íƒ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
                    initializeShopRegionalSelection();
                } else {
                    shopFields.classList.add('hidden');
                    // shop-required í´ë˜ìŠ¤ê°€ ìˆëŠ” í•„ë“œë“¤ í•„ìˆ˜ í•´ì œ ë° ì´ˆê¸°í™”
                    shopFields.querySelectorAll('.shop-required').forEach(input => {
                        input.removeAttribute('required');
                        input.value = '';
                        if (input.name === 'shop_district') {
                            input.disabled = true;
                            input.innerHTML = '<option value="">ë¨¼ì € ì‹œ/ë„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>';
                        }
                    });
                }
            });
        });

        // ì´ˆê¸° ì„ íƒ ìƒíƒœ ì„¤ì •
        document.querySelector('input[name="userType"]:checked').parentElement.classList.add('border-primary-500', 'bg-primary-50');

        // ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¸°ê¸°
        function togglePassword(fieldId) {
            const passwordInput = document.getElementById(fieldId);
            const passwordToggle = document.getElementById(fieldId + 'Toggle');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                passwordToggle.classList.remove('fa-eye');
                passwordToggle.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                passwordToggle.classList.remove('fa-eye-slash');
                passwordToggle.classList.add('fa-eye');
            }
        }

        // ì „ì²´ ë™ì˜ ì²´í¬ë°•ìŠ¤
        document.getElementById('agreeAll').addEventListener('change', function() {
            const agreeItems = document.querySelectorAll('.agree-item');
            agreeItems.forEach(item => {
                item.checked = this.checked;
            });
        });

        // ê°œë³„ ë™ì˜ ì²´í¬ë°•ìŠ¤
        document.querySelectorAll('.agree-item').forEach(item => {
            item.addEventListener('change', function() {
                const allItems = document.querySelectorAll('.agree-item');
                const checkedItems = document.querySelectorAll('.agree-item:checked');
                const agreeAll = document.getElementById('agreeAll');
                
                agreeAll.checked = allItems.length === checkedItems.length;
            });
        });

        // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ê²€ì¦
        document.getElementById('confirmPassword').addEventListener('input', function() {
            const password = document.getElementById('password').value;
            const confirmPassword = this.value;
            
            if (confirmPassword && password !== confirmPassword) {
                this.style.borderColor = '#ef4444';
            } else {
                this.style.borderColor = '#e0e0e0';
            }
        });

        // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ (ì—…ì²´ ì„ íƒ ì‹œì—ë§Œ)
        function validateBusinessNumber(input) {
            const businessNumber = input.value.replace(/[^0-9]/g, '');
            
            if (businessNumber.length === 10) {
                // ìë™ìœ¼ë¡œ í•˜ì´í”ˆ ì¶”ê°€ (000-00-00000 í˜•ì‹)
                const formatted = businessNumber.replace(/(\d{3})(\d{2})(\d{5})/, '$1-$2-$3');
                input.value = formatted;
                input.style.borderColor = '#10b981'; // ë…¹ìƒ‰
            } else if (businessNumber.length > 0 && businessNumber.length < 10) {
                input.style.borderColor = '#ef4444'; // ë¹¨ê°„ìƒ‰
            } else {
                input.style.borderColor = '#e0e0e0'; // ê¸°ë³¸ìƒ‰
            }
        }

        // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ ì…ë ¥ ì´ë²¤íŠ¸
        document.addEventListener('DOMContentLoaded', function() {
            const businessNumberInput = document.querySelector('input[name="business_number"]');
            if (businessNumberInput) {
                businessNumberInput.addEventListener('input', function() {
                    validateBusinessNumber(this);
                });
            }
            
            // ì˜ì—…ì‹ ê³ ì¦ ë²ˆí˜¸ ì…ë ¥ ì•ˆë‚´
            const licenseNumberInput = document.querySelector('input[name="business_license_number"]');
            if (licenseNumberInput) {
                licenseNumberInput.addEventListener('blur', function() {
                    if (this.value.trim() === '') {
                        this.style.borderColor = '#ef4444';
                    } else {
                        this.style.borderColor = '#10b981';
                    }
                });
            }
        });

        // ì—…ì²´ ì§€ì—­ ì„ íƒ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
        function initializeShopRegionalSelection() {
            try {
                console.log('ğŸª ì—…ì²´ íšŒì›ê°€ì… - ì§€ì—­ ì„ íƒ ì‹œìŠ¤í…œ ì´ˆê¸°í™”');
                
                // ì§€ì—­ë³„ ë§¤ì¹­ ì‹œìŠ¤í…œì´ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
                if (typeof window.regionalMatching !== 'undefined') {
                    // ì‹œ/ë„ ì˜µì…˜ ì¶”ê°€
                    const stateSelect = document.getElementById('shop_state');
                    if (stateSelect && stateSelect.options.length <= 1) {
                        window.regionalMatching.populateStateOptions(stateSelect);
                    }
                    
                    // ì‹œ/ë„ ë³€ê²½ ì‹œ êµ¬/êµ° ì—…ë°ì´íŠ¸ ì´ë²¤íŠ¸ ì„¤ì •
                    const districtSelect = document.getElementById('shop_district');
                    if (stateSelect && districtSelect) {
                        stateSelect.removeEventListener('change', handleStateChange); // ì¤‘ë³µ ë°©ì§€
                        stateSelect.addEventListener('change', handleStateChange);
                    }
                    
                    console.log('âœ… ì—…ì²´ íšŒì›ê°€ì… ì§€ì—­ ì„ íƒ ì„¤ì • ì™„ë£Œ');
                } else {
                    console.warn('âš ï¸ ì§€ì—­ë³„ ë§¤ì¹­ ì‹œìŠ¤í…œì´ ë¡œë“œë˜ì§€ ì•ŠìŒ');
                }
            } catch (error) {
                console.error('ì—…ì²´ ì§€ì—­ ì„ íƒ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
            }
        }

        // ì‹œ/ë„ ì„ íƒ ë³€ê²½ í•¸ë“¤ëŸ¬
        function handleStateChange(e) {
            const districtSelect = document.getElementById('shop_district');
            if (window.regionalMatching && districtSelect) {
                window.regionalMatching.updateDistrictOptions(e.target.value, districtSelect);
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ìƒíƒœ ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            const shopRadio = document.querySelector('input[name="userType"][value="shop"]');
            const customerRadio = document.querySelector('input[name="userType"][value="customer"]');
            const shopFields = document.getElementById('shopFields');
            
            // ì´ˆê¸° ìƒíƒœì—ì„œ customerê°€ ì„ íƒë˜ì–´ ìˆë‹¤ë©´ shop í•„ë“œë“¤ì˜ required ì œê±°
            if (customerRadio && customerRadio.checked) {
                shopFields.classList.add('hidden');
                shopFields.querySelectorAll('.shop-required').forEach(input => {
                    input.removeAttribute('required');
                });
            }
            
            // ì—…ì²´ê°€ ì„ íƒë˜ì–´ ìˆê³  shopFieldsê°€ ë³´ì´ëŠ” ê²½ìš° ì´ˆê¸°í™”
            if (shopRadio && shopRadio.checked && !shopFields.classList.contains('hidden')) {
                // shop-required í•„ë“œë“¤ì„ í•„ìˆ˜ë¡œ ì„¤ì •
                shopFields.querySelectorAll('.shop-required').forEach(input => {
                    input.setAttribute('required', 'required');
                });
                setTimeout(() => {
                    initializeShopRegionalSelection();
                }, 500); // ì§€ì—­ë³„ ë§¤ì¹­ ì‹œìŠ¤í…œ ë¡œë“œë¥¼ ìœ„í•œ ë”œë ˆì´
            }
        });

        // í¼ ì œì¶œ ì²˜ë¦¬ëŠ” auth.jsì—ì„œ ì²˜ë¦¬ë¨
    </script>
</body>
</html>